第一周作业

***基础作业***

**1.视觉系统都有哪些构成要素? 以机械臂视觉控制系统为例，说明视觉系统的构成要素。**
答：**视觉系统的构成要素：**
照明设备（光源）、成像设备（相机）、处理设备（主机）、算法软件（视觉处理系统）
答：**以机械臂视觉控制系统为例：**
照明设备（光源）、成像设备（机械臂上的摄像头）、处理设备（机械臂的微控制器）、算法软件（视觉处理系统）

**2.尝试从模仿人类视觉处理流程的角度，阐述对课程内容组织的理解。**
答：**理解**
计算机视觉实际上是一种仿生系统，通过仿照人眼与大脑的成像、识别过程，以摄像头为眼睛、主机和视觉处理算法为大脑，将得到的图像进行识别。

**3.什么是光通量和辐照度？说明几个常见光源的光通量，以及几个常见照明环境的辐照度。**
答：
**光通量**：人眼能感受到的辐射功率，等于单位时间内某一波段的辐射能量和该波段的相对视见率的乘积。
**辐照度**：投射到一平面上的辐射通量密度。指到达这一表平面上，单位时间，单位面积上的辐射能。

| 常见的光源 | 光通量(lm)            |
| ---------- | --------------------- |
| 太阳       | 3.566x10<sup>28</sup> |
| 烛光       | 12.56                 |
| 白炽灯     | 12-24 lm/W            |
| 荧光灯     | 50-120 lm/W           |
| LED        | 110 lm/W              |

| 常见的照明环境     | 辐照度（lux） |
| ------------------ | ------------- |
| 黑夜               | 0.001-0.02    |
| 阴天室内           | 5-50          |
| 晴天室内           | 100-1000      |
| 晴天阳光直射       | 100000        |
| 适合阅读           | 300-750       |
| 家用摄像机标准照度 | 1400          |

**4.结合颜色空间示意图，简述HSI颜色空间中各通道的物理意义，并结合图像实例说明。**

| HSI  | 描述                             |
| ---- | -------------------------------- |
| H    | 纯色属性，如红色、黄色           |
| S    | 饱和度，表示纯色被白色稀释的程度 |
| I    | 亮度                             |

**代码实现灰度化和分离图片的HSI三个通道**

```c++
#include <stdio.h>
#include <iostream>
#include "opencv2/opencv.hpp"
#include "opencv2/core/core.hpp"
#include "opencv2/highgui/highgui.hpp"
#include "opencv2/xfeatures2d.hpp"
using namespace cv;

int main()
{
	Mat image1 = imread("F:/codecs/CSDN-AI/分离HSI/small.jpg", CV_LOAD_IMAGE_COLOR);
	Mat image, gray, hsv, hsvChannels[3];
	pyrDown(image1, image);
	cvtColor(image, gray, COLOR_BGR2GRAY);
    imshow("source image", image);
    imshow("gray", gray);
    waitKey();

    cvtColor(image, hsv, COLOR_BGR2HSV);
    split(hsv, hsvChannels);
    imshow("Hue", hsvChannels[0]);
    imshow("Saturation", hsvChannels[1]);
    imshow("Value", hsvChannels[2]);
    waitKey();
}
```
![](F:\codecs\CSDN-AI\分离HSI\source image.png)

![](F:\codecs\CSDN-AI\分离HSI\gray.png)

![](F:\codecs\CSDN-AI\分离HSI\Hue.png)

![](F:\codecs\CSDN-AI\分离HSI\Saturation.png)

![](F:\codecs\CSDN-AI\分离HSI\Value.png)

**5.说明彩色图像传感器及γ校正的基本原理。**

**彩色图像传感器原理**

1. 传感器通过**聚光薄膜**尽可能地增强光线
2. 光线通过**BGR薄膜**
3. 利用**Bayer格式**计算出实际光线的颜色

**γ校正原理**

起因：人眼的视觉感应和照明值的关系是**非线性**

1. 传感器得到初始图像时，乘以$γ=\cfrac{1}{2.2}$
2. 保存得到BGR图像，此时通过乘以γ系数后，人眼视觉与照明值之间为线性关系了
3. 第二次γ校正，乘以$γ=2.2$
4. 最终显示图像就适合人眼了



***进阶作业***

**代码实现显示原始图像+分离BGR+分离HSV**

```c++
#include <stdio.h>
#include <iostream>
#include "opencv2/opencv.hpp"
#include"opencv2/core/core.hpp"
#include "opencv2/highgui/highgui.hpp"
#include"opencv2/xfeatures2d.hpp"
using namespace cv;

int main()
{
    Mat image = imread("F:/codecs/CSDN-AI/分离HSI/homework1_further/Lenna.png");
	Mat hsv, BGRChannel[3], hsvChannel[3];
	//show the source image
	imshow("source image", image);
	//TODO split BRG
	split(image, BGRChannel);
	imshow("Blue", BGRChannel[0]);
	imshow("Green", BGRChannel[1]);
	imshow("Red", BGRChannel[2]);
	waitKey();
	//TODO split hsv
	cvtColor(image, hsv, COLOR_BGR2HSV);
	split(hsv, hsvChannel);
	imshow("Hue", hsvChannel[0]);
	imshow("Saturation", hsvChannel[1]);
	imshow("Value", hsvChannel[2]);
	waitKey();
}
```

**结果**

![](F:\codecs\CSDN-AI\分离HSI\homework1_further\S.png)

BGR分离

![](F:\codecs\CSDN-AI\分离HSI\homework1_further\B.png)

![G](F:\codecs\CSDN-AI\分离HSI\homework1_further\G.png)

![R](F:\codecs\CSDN-AI\分离HSI\homework1_further\R.png)

问题：不会将RGB三通道，显示成红色绿色蓝色三种颜色，此处只显示了灰度图像

HSV分离

![](F:\codecs\CSDN-AI\分离HSI\homework1_further\H.png)

![Saturation](F:\codecs\CSDN-AI\分离HSI\homework1_further\Saturation.png)

![V](F:\codecs\CSDN-AI\分离HSI\homework1_further\V.png)






